<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, target-densitydpi=medium-dpi, user-scalable=0" />
    <title>Watch Website</title>
    <link rel="icon" href="img/fav_icon.png">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script type="text/javascript" src="jQuery/jquery-2.1.3.min.js"></script>

</head>

<body>
    <div class="container">

        <!--------------------------------------------------- Navigation Bar Starts-------------------------------------------------->
        <div class="row">
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" id="navbar-spy">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <a href="index.html" class="navbar-brand"><img src="img/fav_watch.png" class="logo">
                        </a>
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#hamburger-navigation">
                            <span class="sr-only">Watch</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse" id="hamburger-navigation">
                        <ul class="nav navbar-nav navbar-right" role="menu">
                            <li><a href="index.html" class="active">Home</a><span class="sr-only">current</span>
                            </li>
                            <li><a href="brands.html">Brands</a>
                            </li>
                            <li><a href="form.html">Form</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>

        <!--------------------------------------------------- Navigation Bar Ends-------------------------------------------------->

        <!--------------------------------------------------- Panel Starts-------------------------------------------------->
        <div class="myspace_min">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Please Fill the Form</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-8 col-sm-offset-2 myinfo">
                            <form method="get" name="form1">

                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>FirstName:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="text" name="fname" id="fname" placeholder="Your First Name" class="textBox" onkeypress="return isAlpha(event)" required>
                                    </div>
                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>LastName:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="text" name="lname" placeholder="Your Second Name" class="textBox" onkeypress="return isAlpha(event)">
                                    </div>
                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>Date of Birth:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="text" name="dob" onblur="Javascript:myAgeValidation()" placeholder="(MM/DD/YYYY)" class="textBox" required>
                                    </div>
                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>Age:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="text" name="age" placeholder="Your Age" class="textBox" disabled>
                                    </div>
                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>Email:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="text" name="email" placeholder="Your Emaild ID" class="textBox" data-help="&nbsp;Example: username@gmail.com" required>
                                        <i id="help"></i>
                                    </div>
                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>Gender:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="radio" name="radiobtn">
                                        <label for="rad1">Male</label>
                                        <input type="radio" name="radiobtn">
                                        <label for="rad1">Female</label>
                                    </div>

                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>State:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <select id="selectState" name="state" class="textBox">
                                            <option>--Select--</option>
                                            <option> West Bengal</option>
                                            <option> Gujarat</option>
                                            <option> Maharashtra</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="outerDiv">
                                    <div class="innerDiv1"><b>City:</b>
                                    </div>
                                    <div class="innerDiv2">
                                        <select id="cityName" name="city" class="textBox">
                                            <option>--Select--</option>
                                            <option>Kolkata</option>
                                            <option>Durgapur</option>
                                            <option>Howrah</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="outerDiv">
                                    <div class="innerDiv1">
                                        <input type="button" value="Submit" class="mybtn_validation">
                                    </div>
                                    <div class="innerDiv2">
                                        <input type="reset" value="Reset" class="mybtn">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--------------------------------------------------- Panel Ends---------------------------------------------------->
    </div>
    <script>
        function isAlpha(e) { // Alphanumeric only
            var k;
            document.all ? k = e.keycode : k = e.which;
            return ((k > 64 && k < 91) || (k > 96 && k < 123));
        }


        function checkEmail() {
            var email = document.form1.email;
            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

            if (!filter.test(email.value)) {
                alert('Please provide a valid email address');
                email.focus;
                return false;
            } else
                return true;
        }



        function myAgeValidation() {

            var lre = /^\s*/;
            var datemsg = "";

            var inputDate = document.form1.dob.value;
            inputDate = inputDate.replace(lre, "");
            document.form1.dob.value = inputDate;
            datemsg = isValidDate(inputDate);
            if (datemsg != "") {
                alert(datemsg);
                return;
            } else {
                //Now find the Age based on the Birth Date
                getAge(new Date(inputDate));
            }

        }

        function getAge(birth) {

            var today = new Date();
            var nowyear = today.getFullYear();
            var nowmonth = today.getMonth();
            var nowday = today.getDate();

            var birthyear = birth.getFullYear();
            var birthmonth = birth.getMonth();
            var birthday = birth.getDate();

            var age = nowyear - birthyear;
            var age_month = nowmonth - birthmonth;
            var age_day = nowday - birthday;

            if (age_month < 0 || (age_month == 0 && age_day < 0)) {
                age = parseInt(age) - 1;
            }
            document.form1.age.value = age;


        }

        function isValidDate(dateStr) {


            var msg = "";
            // Checks for the following valid date formats:
            // MM/DD/YY   MM/DD/YYYY   MM-DD-YY   MM-DD-YYYY
            // Also separates date into month, day, and year variables

            // To require a 2 & 4 digit year entry, use this line instead:
            //var datePat = /^(\d{1,2})(\/|-)(\d{1,2})\2(\d{2}|\d{4})$/;
            // To require a 4 digit year entry, use this line instead:
            var datePat = /^(\d{1,2})(\/|-)(\d{1,2})\2(\d{4})$/;

            var matchArray = dateStr.match(datePat); // is the format ok?
            if (matchArray == null) {
                msg = "Date is not in a valid format.";
                return msg;
            }

            month = matchArray[1]; // parse date into variables
            day = matchArray[3];
            year = matchArray[4];


            if (month < 1 || month > 12) { // check month range
                msg = "Month must be between 1 and 12.";
                dob.focus;
                return msg;
            }

            if (day < 1 || day > 31) {
                msg = "Day must be between 1 and 31.";
                dob.focus;
                return msg;
            }

            if ((month == 4 || month == 6 || month == 9 || month == 11) && day == 31) {
                msg = "Month " + month + " doesn't have 31 days!";
                dob.focus;
                return msg;
            }

            if (month == 2) { // check for february 29th
                var isleap = (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0));
                if (day > 29 || (day == 29 && !isleap)) {
                    msg = "February " + year + " doesn't have " + day + " days!";
                    dob.focus;
                    return msg;
                }
            }

            if (day.charAt(0) == '0') day = day.charAt(1);

            //Incase you need the value in CCYYMMDD format in your server program
            //msg = (parseInt(year,10) * 10000) + (parseInt(month,10) * 100) + parseInt(day,10);

            return msg; // date is valid
        }

        var help = document.querySelector("#help");
        var fields = document.querySelectorAll("input");
        for (var i = 0; i < fields.length; i++) {
            fields[i].addEventListener("focus", function (event) {
                var text = event.target.getAttribute("data-help");
                help.textContent = text;
            });
            fields[i].addEventListener("blur", function (event) {
                help.textContent = "";
            });
        }

        $(".mybtn_validation").click(function () {
            var flag = checkEmail();
            if (flag === true) {
                $(".myspace_min").slideUp(500, function () {
                    // Animation complete.

                    $(".myspace_min").html("Thank You for Submitting the Form").addClass("thank");
                });


            }


        });
    </script>

    <script src="js/bootstrap.min.js"></script>
</body>

</html>